# config.py

import os
import sys

#if os.environ.get('AWS_LAMBDA_FUNCTION_NAME'):
#    # –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –Ω–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É –≤ sys.path —Ç–æ–ª—å–∫–æ –≤ —Å—Ä–µ–¥–µ Lambda
#    current_dir = os.path.dirname(os.path.abspath(__file__))

def get_env_variable(name, default=None):
    """ –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –µ—ë –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏, –µ—Å–ª–∏ default –Ω–µ —É–∫–∞–∑–∞–Ω """
    value = os.environ.get(name, default)
    if value is None:
        print(f"–û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è {name}")
        sys.exit(1)
    return value

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Telegram –±–æ—Ç–∞ –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
BOT_TOKEN = get_env_variable("BOT_TOKEN")
WEB_SERVER_HOST = get_env_variable("WEB_SERVER_HOST", "127.0.0.1")
WEB_SERVER_PORT = get_env_variable("WEB_SERVER_PORT", 8080)
WEBHOOK_PATH = get_env_variable("WEBHOOK_PATH", "/webhook")
WEBHOOK_SECRET = get_env_variable("WEBHOOK_SECRET", "my-secret")
BASE_WEBHOOK_URL = get_env_variable("BASE_WEBHOOK_URL", "https://yourdomain.com")

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è API –ø–æ–∏—Å–∫–∞
YOUR_API_KEY = get_env_variable("YOUR_API_KEY")
YOUR_SEARCH_ENGINE_ID = get_env_variable("YOUR_SEARCH_ENGINE_ID")

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API OpenAI
OPENAI_API_KEY = get_env_variable("OPENAI_API_KEY")

# –î–æ–±–∞–≤–ª—è–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏

def load_domains(file_path):
    with open(file_path, 'r', encoding='utf-8') as file:
        return [line.strip() for line in file.readlines()]

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
DOMAINS = [
    "superjob.ru",
    "rabota.ru",
    "hh.ru",
    "gorodrabot.ru",
    "gkjb.ru",
    "jobfiller.ru",
    "rabota-ipoisk.ru",
    "avito.ru",
    "zarplata.ru",
    "youla.ru",
    "joblab.ru",
    "trudvsem.ru",
    "jobers.ru",
    "wiweb.ru",
    "terdo.ru",
    "xn--80ace9afgbcpx3h.xn--p1ai",
    "1000dosok.ru",
    "jobreg.ru",
    "rb-n.ru",
    "normaljob.ru",
    "kadrovichka.ru",
    "personjob.ru",
    "allix.ru",
    "rjb.ru",
    "upper.ru",
    "jobmens.ru",
    "lookingforjob.ru",
    "rus-work.com",
    "job50.ru",
    "promoz.ru",
    "adsfactory.ru",
    "workdigest.ru",
    "rabota7.ru",
    "novosel.ru",
    "labourex.ru",
    "avelango.com",
    "avada.shop",
    "rabotagrad.ru",
    "findjob.ru",
    "rudos.ru",
    "trudko.ru",
    "w-rabota.ru",
    "resumet.su",
    "rabotunaidu.ru",
    "mjobs.ru",
    "remote-job.ru",
    "miltor.ru",
    "doski.ru",
    "unibo.ru",
    "barahla.net",
    "rydo.ru",
    "careerspace.app",
    "career.habr.com",
    "budu.jobs",
    "vk.com",
    "gossluzhba.gov.ru",
    "vc.ru",
    "careerist.ru",
    "fl.ru",
    "career.avito.com",
    "rabota.meds.ru",
    "maritime-zone.com",
    "rosrabota.ru",
    "tproger.ru",
    "itmozg.ru",
    "yandex.ru",
    "domkadrov.ru",
    "farpost.ru",
    "turboudalenka.ru",
    "vahtav.ru",
    "praca.by",
    "ludi.by",
    "cenotavr.by",
    "belmeta.by",
    "rabota.by"
]

WELCOME_MESSAGE = r"""
    –î–æ–±—Ä–∏–¥–µ–Ω—å\! üëã
    –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –Ω–∞—à–æ–≥–æ –¢–µ–ª–µ–≥—Ä–∞–º\-–±–æ—Ç–∞ ‚Äî –≤–∞—à–æ–≥–æ –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –ø–æ–º—ñ—á–Ω–∏–∫–∞ —É –≤–∏—è–≤–ª–µ–Ω–Ω—ñ —Ç–æ–∫—Å–∏—á–Ω–∏—Ö –∫–æ–º–ø–∞–Ω—ñ–π\-—Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—ñ–≤ –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–º—É —Ä–∏–Ω–∫—É –≤–∞–∫–∞–Ω—Å—ñ–π\! üöÄ

    –ù–∞—à –±–æ—Ç –¥–æ–ø–æ–º–∞–≥–∞—î –≤–∞–º –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —Å–µ–±–µ –≤—ñ–¥ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏—Ö —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—ñ–≤, —è–∫—ñ –º–∞—Å–∫—É—é—Ç—å—Å—è –ø—ñ–¥ –ø—Ä–∏—Å—Ç–æ–π–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó\. –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –Ω–∞–π—Å—É—á–∞—Å–Ω—ñ—à—ñ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏, —â–æ–± —Ä–æ–∑–∫—Ä–∏—Ç–∏ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ –∑–≤'—è–∑–∫–∏ —Ç–∞ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ñ —ñ–Ω—à–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏\.

    –£ —Ç–æ–π —á–∞—Å, —è–∫ —ñ–Ω—à—ñ —Å–∏—Å—Ç–µ–º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑–∞–≥–∞–ª—å–Ω–æ–¥–æ—Å—Ç—É–ø–Ω—ñ –¥–∞–Ω—ñ –∑ –¥–µ—Ä–∂–∞–≤–Ω–∏—Ö —Ä–µ—î—Å—Ç—Ä—ñ–≤, –Ω–∞—à –±–æ—Ç –π–¥–µ –¥–∞–ª—ñ\. –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–µ—Ç–æ–¥–∏ –∞–Ω–∞–ª—ñ–∑—É —Ü–∏—Ñ—Ä–æ–≤–∏—Ö —Å–ª—ñ–¥—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏:

    üîç –ü–æ—à—É–∫ —ñ –∞–Ω–∞–ª—ñ–∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑  –≤–µ–±\-—Ä–µ—Å—É—Ä—Å—ñ–≤\.
    üìà –ê–ª–≥–æ—Ä–∏—Ç–º–∏, —è–∫—ñ –Ω–∞–≤—á–∞—é—Ç—å—Å—è –Ω–∞ –≤–µ–ª–∏–∫–∏—Ö –º–∞—Å–∏–≤–∞—Ö –¥–∞–Ω–∏—Ö, —â–æ–± –ø–µ—Ä–µ–¥–±–∞—á–∏—Ç–∏ —Ç–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó\.
    üß† –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è AI –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏—Ö –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –∫–æ–º–ø–∞–Ω—ñ–π —Ç–∞ —ó—Ö–Ω—ñ—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–Ω–∏–∫—ñ–≤, —â–æ –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –≤–∏—è–≤–ª—è—Ç–∏ –∞–Ω–æ–º–∞–ª—ñ—ó\.

    –¶—ñ –º–µ—Ç–æ–¥–∏ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –≤–∏—è–≤–ª—è—Ç–∏ —Ç–æ–∫—Å–∏—á–Ω–∏—Ö —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—ñ–≤, —è–∫—ñ —É—Å–ø—ñ—à–Ω–æ –º–∞—Å–∫—É—é—Ç—å—Å—è —É —ñ–Ω—à–∏–º—Ö —Å–∏—Å—Ç–µ–º–∞—Ö\.

    –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:
    –©–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–º–ø–∞–Ω—ñ—é\-—Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—è, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≤–∫–∞–∑–∞—Ç–∏ —ó—ó –Ω–∞–∑–≤—É —Ç–∞ —Ç—É –ø–æ–∑–∏—Ü—ñ—é, —è–∫—É –≤–æ–Ω–∞ —Ö–æ—á–µ –∑–∞–∫—Ä–∏—Ç–∏\. –î–ª—è —Ü—å–æ–≥–æ —Å–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ—Å—å –∫–æ–º–∞–Ω–¥–æ—é:
    `/check "–ù–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—ó", "–ü–æ—Å–∞–¥–∞" –∞–±–æ –ø—Ä–æ—Å—Ç–æ /check`
    –ë–æ—Ç –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î —Ü–∏—Ñ—Ä–æ–≤—ñ —Å–ª—ñ–¥–∏ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ø–µ—Ä–µ–¥–æ–≤—ñ –º–µ—Ç–æ–¥–∏, —ñ –≤–∏–¥–∞—Å—Ç—å —à–∫–∞–ª—É –∑–∞–≥—Ä–æ–∑ –≤—ñ–¥ 0 –¥–æ 10 ‚Äî —á–∏–º –≤–∏—â–µ, —Ç–∏–º –±—ñ–ª—å—à–µ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å, —â–æ —Ä–æ–±–æ—Ç–æ–¥–∞–≤–µ—Ü—å —Ç–æ–∫—Å–∏—á–Ω–∏–π\!

    –î–æ–ª—É—á–∞–π—Ç–µ—Å—å —Ç–∞ –∑–∞—Ö–∏—â–∞–π—Ç–µ —Å–µ–±–µ —Ç–∞ —Å–≤–æ—é –∫–∞—Ä'—î—Ä—É –≤—ñ–¥ —Ç–æ–∫—Å–∏—á–Ω–∏—Ö —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—ñ–≤ —Ä–∞–∑–æ–º –∑ –Ω–∞–º–∏\! üöÄ
"""